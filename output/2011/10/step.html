<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Step
    </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="Michael Nisi is an independent software developer.">
    <meta name="author" content="Michael Nisi">
    <meta name="viewport" content="initial-scale=1">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="/css/solarized_light.css" type="text/css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="shortcut icon" href="/img/favicon.png">
    <script src="http://use.typekit.com/mah2jjl.js"></script>
    <script>try{Typekit.load();}catch(e){}

</script>
    <script src="/js/libs/modernizr-2.5.3.min.js"></script>
  </head>
  <body>
    <div id="container">
      <header>
        <section id="tweet">
          <p>Loading … 
          </p>
        </section><a href="/">
          <h1>THE TROUBLED PROGRAMMER
          </h1></a>
        <p>Tue Oct 25 2011
        </p>
        <nav>
          <ul>
            <li><a href="/">HOME</a>
            </li>
            <li><a href="/about">ABOUT</a>
            </li>
            <li><a href="/archive">ARCHIVE</a>
            </li>
          </ul>
        </nav>
      </header>
      <section id="cover">
        <article><a href="/2011/10/step">
            <h2>STEP
            </h2></a>
          <p id="summary">Painless parallel execution, serial execution, and error handling
          </p><p>The step library exports a single function I call step. It accepts any number of functions as arguments and runs them in serial order using the passed in this context as the callback to the next step.</p>

<pre><code>step(
    function() {
        fs.readFile(filename, &#39;utf8&#39;, this.parallel());
        fs.readdir(dir, this.parallel());
    },
    function(err, data, names) {
        if (err) throw err;
        rss = jade.compile(data, { filename:filename, pretty:true });
        var group = this.group();
        names.forEach(function(name) {
            addItem(dir + &#39;/&#39; + name, items, group());
        });
    },
    function(err, files) {
        if (err) throw err;
        result = rss({ items:items });
        var filename = target + &#39;/rss.xml&#39;;
        console.log(&#39;Write &#39; + filename);
        fs.writeFile(filename, result, this);
    },
    function(err) {
        callback(err, true);
    }
);</code></pre>

        </article>
      </section>
    </div>
    <footer id="page_footer"><p>Thank you for reading. You find me on <a href="http://twitter.com/michaelnisi">Twitter</a> and <a href="https://github.com/michaelnisi">GitHub</a>.</p>
      <ul id="smallprint">
        <li>
          <Copyright>&copy; 2011–2012 Michael Nisi
          </Copyright>
        </li>
        <li><a href="/rss.xml"><img id="rss" src="/img/rss.png"></a>
        </li>
      </ul>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/libs/jquery-1.7.1.min.js"><\/script>')
</script>
    <script src="/js/libs/prefixfree.min.js"></script>
    <script src="/js/libs/highlight.pack.js"></script>
    <script src="/js/script.js"></script>
  </body>
</html>